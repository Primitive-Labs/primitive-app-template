# =============================================================================
# WRANGLER CONFIGURATION
# =============================================================================
# Worker and deployment configuration for Cloudflare Workers.
#
# App configuration (APP_ID, API_ORIGIN) comes from .env.production and is
# passed to the worker at deploy time via --var flags. This keeps all app
# config in .env files for consistency between development and production.
#
# To deploy: pnpm deploy --env production
# =============================================================================

name = "YOUR APP NAME HERE"
main = "worker.js"
compatibility_date = "2025-06-12"

[assets]
directory = "./dist"
binding = "ASSETS"
not_found_handling = "single-page-application"

# =============================================================================
# PRODUCTION ENVIRONMENT
# =============================================================================
[env.production]
name = "YOUR APP NAME HERE-prod"

# Attach a custom domain so the Worker is the origin for this host.
[[env.production.routes]]
pattern = "YOUR URL NAME"   # <-- entire host goes to this Worker
custom_domain = true

[env.production.vars]
# Auth proxy cookie settings (worker-specific, not needed in .env.production)
REFRESH_PROXY_COOKIE_MAX_AGE = "604800"
REFRESH_PROXY_COOKIE_PATH = "/proxy/"

# Note: APP_ID and API_ORIGIN are read from .env.production by the deploy script
# and passed to wrangler via --var flags. Do not duplicate them here.
