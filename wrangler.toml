# =============================================================================
# WRANGLER CONFIGURATION
# =============================================================================
# This file is the source of truth for production configuration.
# Run `pnpm deploy --env production` to sync these values to .env.production,
# build, and deploy to Cloudflare Workers.
# =============================================================================

name = "YOUR APP NAME HERE"
main = "worker.js"
compatibility_date = "2025-06-12"

[assets]
directory = "./dist"
binding = "ASSETS"
not_found_handling = "single-page-application"

# =============================================================================
# PRODUCTION ENVIRONMENT
# =============================================================================
[env.production]
name = "YOUR APP NAME HERE-prod"

# Attach a custom domain so the Worker is the origin for this host.
[[env.production.routes]]
pattern = "YOUR URL NAME"   # <-- entire host goes to this Worker
custom_domain = true

[env.production.vars]
# Your Primitive App ID from the admin console (https://admin.primitiveapi.com)
# This value is synced to VITE_APP_ID in .env.production when you run `pnpm deploy`
APP_ID = "YOUR_PRODUCTION_APP_ID"

# Primitive API server (synced to VITE_API_URL)
API_ORIGIN = "https://primitiveapi.com/"

# Auth proxy cookie settings
REFRESH_PROXY_COOKIE_MAX_AGE = "604800"
REFRESH_PROXY_COOKIE_PATH = "/proxy/"
